<div id="container">
    
    <div id="left">
        <div id="left_content">
            <label id="filename" class="action_btn" for="upload-ledger">{{filename ? filename : 'Choisir un fichier .ledger'}} </label>
            <input type="file" id="upload-ledger" (change)="uploadLedgerOnChange($event.target.files)" />
            
            <label id="filename2" class="action_btn" for="upload-ofx">{{filename2 ? filename2 : 'Choisir un fichier .ofx'}} </label>
            <input type="file" id="upload-ofx" #ofx (change)="uploadOfxOnChange($event.target.files)" />

            <label class="action_btn" (click)="onSaveClicked()">Sauvegarder</label>

            <ul>
                <account-tree 
                    [account]="rootAccount"
                     [selectedAccount]="selectedAccount" 
                     (accountSelected)="onAccountSelected($event)"></account-tree>
            </ul>
        </div>
    </div>
    
    <div id="right">
        <div id="right_content">
            <div *ngIf="selectedAccount">
                <h2>{{ selectedAccount.name }} 
                </h2>
                <h3>
                    {{ selectedAccount.cumulativeBalance | number : '1.2-2' }} / 
                    {{ selectedAccount.balance | number : '1.2-2' }} / 
                    {{ selectedAccount.nbTransactions }}
                </h3>
            </div>

            <br/>
            Entre le <input type="date" value="{{startDate.format('YYYY-MM-DD')}}" (change)="startDateChanged($event)"/>
            et le
            <input type="date" value="{{endDate.format('YYYY-MM-DD')}}" (change)="endDateChanged($event)"/>
            Statut
            <select (change)="onStatusChanged($event)">
                    <option value="">Tous</option>
                    <option value="*">*</option>
                    <option value="!">!</option>
            </select>
            <br/>
            <span>{{transactions.length}} transactions</span>
            <br/>

            <div id="chart_div"></div>

            <ul class="pagination">
                <li *ngFor='let pageIndex of nbPage | numberToArray' [class.currentPage] = "pageIndex == currentPage">
                    <a (click)="onPageChanged(pageIndex)">{{pageIndex}}</a>
                </li>
            </ul>

            <table id="transactions">
                <tr transaction [transaction]="transactionToAdd" class="row" id="newTransaction"></tr>

                <template ngFor let-tr [ngForOf]="transactions | slice:sliceStart:sliceEnd" let-isOdd="odd" let-isEven="even">
                    <tr transaction [transaction]="tr" [class.rowOdd]="isOdd" [class.rowEven]="isEven" class="row"></tr>
                </template>
            </table>
        </div>
    </div>
    
    <div class="clear"></div>
</div>